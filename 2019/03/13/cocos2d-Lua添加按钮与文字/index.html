<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  
<!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140414783-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-140414783-1');
  </script>


  
  <meta charset="utf-8">
  
  <title>cocos2d-Lua添加按钮与文字 | 然亦伞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="添加点击按钮UIPushButtonscale9 参数为true，图片随按钮尺寸缩放一般scale9设置为false，且不要设置按钮尺寸，这样按钮尺寸会随图片大小 function MainScene:ctor()     -- 添加按钮     local images = {     normal = &amp;quot;button/Button01.png&amp;quot;,     pressed =">
<meta name="keywords" content="Lua">
<meta property="og:type" content="article">
<meta property="og:title" content="cocos2d-Lua添加按钮与文字">
<meta property="og:url" content="http://ranyisan.tk/2019/03/13/cocos2d-Lua添加按钮与文字/index.html">
<meta property="og:site_name" content="然亦伞">
<meta property="og:description" content="添加点击按钮UIPushButtonscale9 参数为true，图片随按钮尺寸缩放一般scale9设置为false，且不要设置按钮尺寸，这样按钮尺寸会随图片大小 function MainScene:ctor()     -- 添加按钮     local images = {     normal = &amp;quot;button/Button01.png&amp;quot;,     pressed =">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-09-27T21:49:00.963Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="cocos2d-Lua添加按钮与文字">
<meta name="twitter:description" content="添加点击按钮UIPushButtonscale9 参数为true，图片随按钮尺寸缩放一般scale9设置为false，且不要设置按钮尺寸，这样按钮尺寸会随图片大小 function MainScene:ctor()     -- 添加按钮     local images = {     normal = &amp;quot;button/Button01.png&amp;quot;,     pressed =">
  
  <link rel="stylesheet" href="/css/index.css">
<!--   <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
 --></head>
</html>
<body style="


  background-color: #eff0f6


">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <a href="/" class="title">然亦伞</a>
  </header>
  <div class="ctnWrap">
    <div class="icons">
      
    </div>
    <div class="menu">
      
        
            <a href="/" class="nav-menu ">HOME</a>
          
        
            <a href="/archives" class="nav-menu ">ARCHIVE</a>
          
        
            <a href="/categories" class="nav-menu ">CATEGORY</a>
          
        
            <a href="/tags" class="nav-menu ">TAG</a>
          
        
            <a href="/about" class="nav-menu ">ABOUT</a>
          
        
            <a href="/search" class="nav-menu ">SEARCH</a>
          
        
      
    </div>
  </div>
</nav>
    <div id="main"><section class="article">
  <h2 class="title">cocos2d-Lua添加按钮与文字</h2>
  <p class="sub">
    3月 13, 2019
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_container_page_pv"> 阅读量 <span id="busuanzi_value_page_pv"></span></span>
    
  </p>
  <article class="content">
    <h2 id="添加点击按钮UIPushButton"><a href="#添加点击按钮UIPushButton" class="headerlink" title="添加点击按钮UIPushButton"></a>添加点击按钮UIPushButton</h2><p>scale9 参数为true，图片随按钮尺寸缩放<br>一般scale9设置为false，且不要设置按钮尺寸，这样按钮尺寸会随图片大小</p>
<pre><code>function MainScene:ctor()
    -- 添加按钮
    local images = {
    normal = &quot;button/Button01.png&quot;,
    pressed = &quot;button/Button01Pressed.png&quot;,
    disabled = &quot;button/Button01Disabled.png&quot;,
    }
    cc.ui.UIPushButton.new(images,{scale9 = true})
        :setButtonSize(240,60)
        :setButtonLabel(&quot;normal&quot;,cc.ui.UILabel.new({
            UILabelType = 2,
            text = &quot;Normal&quot;,
            size = 19
            }))
        :setButtonLabel(&quot;pressed&quot;,cc.ui.UILabel.new({
            UILabelType = 2,
            text = &quot;Pressed&quot;,
            size = 19,
            color = cc.c3b(255,64,64)
            }))
        :setButtonLabel(&quot;disabled&quot;,cc.ui.UILabel.new({
            UILabelType = 2,
            text = &quot;Disabled&quot;,
            size = 19,
            color = cc.c3b(0,0,0)
            }))
        :onButtonClicked(function ( event )
            -- body
            print (&quot;点击了&quot;)
        end)
        :align(display.LEFT_CENTER,display.left+80,display.top-80)
        :addTo(self)
end        
</code></pre><h2 id="添加开关按钮UICheckBoxButton"><a href="#添加开关按钮UICheckBoxButton" class="headerlink" title="添加开关按钮UICheckBoxButton"></a>添加开关按钮UICheckBoxButton</h2><pre><code>local checkBoxImg = {
        on = &quot;button/CheckBoxButtonOn.png&quot;,
        on_pressed = &quot;button/CheckBoxButtonOnPressed.png&quot;,
        on_disabled = &quot;button/CheckBoxButtonOnDisabled.png&quot;,
        off = &quot;button/CheckBoxButtonOff.png&quot;,
        off_pressed = &quot;button/CheckBoxButtonOffPressed.png&quot;,
        off_disabled = &quot;button/CheckBoxButtonOffDisabled.png&quot;,
    }

--添加开关按钮状态变化响应函数
local function updateCheckBoxButtonLabel(checkBox)
    -- body
    local state = &quot;&quot;
    if checkBox:isButtonSelected() then
        state = &quot;on&quot;
    else
        state = &quot;off&quot;
    end
    if not checkBox:isButtonEnabled() then
        state = state..&quot;(disabled)&quot;
    end
    checkBox:setButtonLabelString(string.format(&quot;state is %s&quot;,state))            
end

--创建按钮
local  checkBoxButton = cc.ui.UICheckBoxButton.new(checkBoxImg)
:setButtonLabel(cc.ui.UILabel.new({
    text = &quot;&quot;,
    size = 22,
    color = cc.c3b(255,96,255),
    }))
:setButtonLabelOffset(20,0) --设置文本显示的偏移位置
:setButtonLabelAlignment(display.CENTER) --设置文本对齐方式
:onButtonStateChanged(function ( event )
    -- body
    updateCheckBoxButtonLabel(event.target)
end)
:setButtonEnabled(true) --设置按钮是否可响应
:align(display.LEFT_CENTER,display.left+80,display.top-200)
:addTo(layer1)
updateCheckBoxButtonLabel(checkBoxButton)
</code></pre><h2 id="添加单选菜单选择按钮UICheckBoxButtonGroup"><a href="#添加单选菜单选择按钮UICheckBoxButtonGroup" class="headerlink" title="添加单选菜单选择按钮UICheckBoxButtonGroup"></a>添加单选菜单选择按钮UICheckBoxButtonGroup</h2><pre><code>local menuImgs = {
    off = &quot;button/RadioButtonOff.png&quot;,
    on = &quot;button/RadioButtonOn.png&quot;
    }

    --创建checkBoxButton组件
    local group = cc.ui.UICheckBoxButtonGroup.new(display.TOP_TO_BOTTOM)
    :addButton(
        cc.ui.UICheckBoxButton.new(menuImgs)
        :setButtonLabel(cc.ui.UILabel.new({
            text = &quot;option 1&quot;,
            color = display.COLOR_WHITE
            }))
        :setButtonLabelOffset(60,0)
        :align(display.LEFT_CENTER)
    )
    :addButton(
        cc.ui.UICheckBoxButton.new(menuImgs)
        :setButtonLabel(cc.ui.UILabel.new({
            text = &quot;option 2&quot;,
            color = display.COLOR_WHITE,
            }))
        :setButtonLabelOffset(60,0)
        :align(display.LEFT_CENTER)
    )
    :addButton(
        cc.ui.UICheckBoxButton.new(menuImgs)
        :setButtonLabel(cc.ui.UILabel.new({
            text = &quot;option 3 disabled&quot;,
            color = display.COLOR_WHITE
            }))
        :setButtonLabelOffset(60,0)
        :setButtonEnabled(false)
        :align(display.LEFT_CENTER)
    )
    :setButtonsLayoutMargin(10,10,10,10)--设置margin边缘值
    :onButtonSelectChanged(function ( event )
        -- body
        printf(&quot;Option %d selected, Option %d unselected&quot;,event.selected,event.last)
    end)
    :align(display.LEFT_CENTER,display.left+80,display.top-400)--设置瞄点与位置
    :addTo(layer1)
</code></pre><h2 id="添加文字UILabel"><a href="#添加文字UILabel" class="headerlink" title="添加文字UILabel"></a>添加文字UILabel</h2><pre><code>cc.ui.UILabel.new({UILabelType = 2, text = &quot;你好呀然亦伞&quot;, size = 64,font = &quot;Arial&quot;,color = cc.c3b(255,0,0)})

:align(display.CENTER,display.cx,display.cy)
    :addTo(layer1)
</code></pre>
  </article>
  <div class="comments"></div>
  
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
    <script>
       new Valine({
            el: '.comments',
            appId: 'nTjHpFqxjOTtRsli4znbCbUI-gzGzoHsz',
            appKey: 'QWPj5eE5Oe8oDr2dnQ0ku21R',
            notify: false,
            verify: true,
            pageSize: 10,
            placeholder: 'just go go' 
        });
    </script> 
  
  <footer class="f-cf">
    
      <a href="/2019/03/13/cocos2d-lua场景转换/" class="link f-fl">⟵cocos2d-lua场景转换</a>
    
    
      <a href="/2019/03/12/Lua中的i-o库/" class="link f-fr">Lua中的i/o库⟶</a>
    
  </footer>
</section></div>
    <footer id="footer" class="f-cf">
  ranyisan@163.com
  
  <span class="copyright">All rights reserved @ranyisan</span>
</footer>
  </div>
</body>
</html>